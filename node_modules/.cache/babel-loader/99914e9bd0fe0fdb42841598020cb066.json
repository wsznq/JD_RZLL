{"remainingRequest":"D:\\无纸化文档\\入职履历vue\\node_modules\\babel-loader\\lib\\index.js!D:\\无纸化文档\\入职履历vue\\src\\config\\axios.js","dependencies":[{"path":"D:\\无纸化文档\\入职履历vue\\src\\config\\axios.js","mtime":1569028503000},{"path":"D:\\无纸化文档\\入职履历vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\无纸化文档\\入职履历vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"D:\\\\\\u65E0\\u7EB8\\u5316\\u6587\\u6863\\\\\\u5165\\u804C\\u5C65\\u5386vue\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n// import vue from 'vue'\nimport axios from \"../config/http\";\nimport $ from \"jquery\";\nimport vue from \"vue\";\nimport Qs from \"qs\";\nexport default\n/*#__PURE__*/\n_asyncToGenerator(\n/*#__PURE__*/\nregeneratorRuntime.mark(function _callee() {\n  var url,\n      data,\n      type,\n      _args = arguments;\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          url = _args.length > 0 && _args[0] !== undefined ? _args[0] : \"\";\n          data = _args.length > 1 ? _args[1] : undefined;\n          type = _args.length > 2 ? _args[2] : undefined;\n          return _context.abrupt(\"return\", new Promise(function (resolve, reject) {\n            var form;\n            console.log(data); // if (isEncrypt) {\n            // \tform.data = Encrypt(data.data)\n            // } else {\n            // \tform = data.data\n            // }\n\n            if (!window.sessionStorage.getItem(\"isfirst\")) {// axios.defaults.headers.APPID = 'jiedian'\n              // axios.defaults.headers.APPKey = '70A62C9BFEB46644B2A37338E4FD8143'\n              // axios.get('http://220.189.245.171:8056/SAPForAPPServer.asmx/OpenServer', {}).then((res) => {\n              // \tconsole.log(axios.defaults.headers)\n              // \twindow.sessionStorage.setItem('isfirst', '1')\n              // })\n              // window.location.reload()\n            }\n\n            axios.post(url, Qs.stringify(data)).then(function (res) {\n              res = $.parseXML(res.data).firstChild.textContent;\n              res = decodeURIComponent(res);\n              res = JSON.parse(res);\n\n              if (res.ReturnType === \"success\") {\n                // console.log(res.ReturnMsg)\n                if (type === \"parse\") {\n                  resolve(JSON.parse(res.ReturnMsg));\n                }\n\n                if (type === \"UrlDecode\") {\n                  resolve(UrlDecode(res.ReturnMsg));\n                } else {\n                  resolve(res.ReturnMsg);\n                }\n              } else if (res.words_result) {\n                resolve(res);\n              } else {\n                console.log(url, data.data, res);\n\n                if (type === \"UrlDecode\") {\n                  vue.$vux.toast.text(UrlDecode(res.ReturnMsg)); // vue.$store.commit(\"updateLoadingStatus\", { isLoading: false });\n                  // console.log(vue.$store)\n\n                  reject(UrlDecode(res.ReturnMsg));\n                } else {\n                  vue.$vux.toast.text(res.ReturnMsg); // vue.$store.commit(\"updateLoadingStatus\", { isLoading: false });\n                  // console.log(vue.$store)\n\n                  reject(res.ReturnMsg);\n                }\n              }\n            });\n          }));\n\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _callee);\n}));\n\nfunction UrlDecode(str) {\n  var ret = \"\";\n\n  for (var i = 0; i < str.length; i++) {\n    var chr = str.charAt(i);\n\n    if (chr == \"+\") {\n      ret += \" \";\n    } else if (chr == \"%\") {\n      var asc = str.substring(i + 1, i + 3);\n\n      if (parseInt(\"0x\" + asc) > 0x7f) {\n        ret += asc2str(parseInt(\"0x\" + asc + str.substring(i + 4, i + 6)));\n        i += 5;\n      } else {\n        ret += asc2str(parseInt(\"0x\" + asc));\n        i += 2;\n      }\n    } else {\n      ret += chr;\n    }\n  }\n\n  return ret;\n}",{"version":3,"sources":["D:\\无纸化文档\\入职履历vue\\src\\config\\axios.js"],"names":["axios","$","vue","Qs","url","data","type","Promise","resolve","reject","form","console","log","window","sessionStorage","getItem","post","stringify","then","res","parseXML","firstChild","textContent","decodeURIComponent","JSON","parse","ReturnType","ReturnMsg","UrlDecode","words_result","$vux","toast","text","str","ret","i","length","chr","charAt","asc","substring","parseInt","asc2str"],"mappings":"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","sourcesContent":["// import vue from 'vue'\r\nimport axios from \"../config/http\";\r\nimport $ from \"jquery\";\r\nimport vue from \"vue\";\r\nimport Qs from \"qs\";\r\nexport default async (url = \"\", data, type) => {\r\n  return new Promise((resolve, reject) => {\r\n    let form;\r\n    console.log(data);\r\n    // if (isEncrypt) {\r\n    // \tform.data = Encrypt(data.data)\r\n    // } else {\r\n    // \tform = data.data\r\n    // }\r\n    if (!window.sessionStorage.getItem(\"isfirst\")) {\r\n      // axios.defaults.headers.APPID = 'jiedian'\r\n      // axios.defaults.headers.APPKey = '70A62C9BFEB46644B2A37338E4FD8143'\r\n      // axios.get('http://220.189.245.171:8056/SAPForAPPServer.asmx/OpenServer', {}).then((res) => {\r\n      // \tconsole.log(axios.defaults.headers)\r\n      // \twindow.sessionStorage.setItem('isfirst', '1')\r\n      // })\r\n      // window.location.reload()\r\n    }\r\n\r\n    axios.post(url, Qs.stringify(data)).then(res => {\r\n      res = $.parseXML(res.data).firstChild.textContent;\r\n      res = decodeURIComponent(res);\r\n      res = JSON.parse(res);\r\n      if (res.ReturnType === \"success\") {\r\n        // console.log(res.ReturnMsg)\r\n        if (type === \"parse\") {\r\n          resolve(JSON.parse(res.ReturnMsg));\r\n        }\r\n        if (type === \"UrlDecode\") {\r\n          resolve(UrlDecode(res.ReturnMsg));\r\n        } else {\r\n          resolve(res.ReturnMsg);\r\n        }\r\n      } else if (res.words_result) {\r\n        resolve(res);\r\n      } else {\r\n        console.log(url, data.data, res);\r\n        if (type === \"UrlDecode\") {\r\n          vue.$vux.toast.text(UrlDecode(res.ReturnMsg));\r\n          // vue.$store.commit(\"updateLoadingStatus\", { isLoading: false });\r\n          // console.log(vue.$store)\r\n          reject(UrlDecode(res.ReturnMsg));\r\n        } else {\r\n          vue.$vux.toast.text(res.ReturnMsg);\r\n          // vue.$store.commit(\"updateLoadingStatus\", { isLoading: false });\r\n          // console.log(vue.$store)\r\n          reject(res.ReturnMsg);\r\n        }\r\n      }\r\n    });\r\n  });\r\n};\r\nfunction UrlDecode(str) {\r\n  var ret = \"\";\r\n  for (var i = 0; i < str.length; i++) {\r\n    var chr = str.charAt(i);\r\n    if (chr == \"+\") {\r\n      ret += \" \";\r\n    } else if (chr == \"%\") {\r\n      var asc = str.substring(i + 1, i + 3);\r\n      if (parseInt(\"0x\" + asc) > 0x7f) {\r\n        ret += asc2str(parseInt(\"0x\" + asc + str.substring(i + 4, i + 6)));\r\n        i += 5;\r\n      } else {\r\n        ret += asc2str(parseInt(\"0x\" + asc));\r\n        i += 2;\r\n      }\r\n    } else {\r\n      ret += chr;\r\n    }\r\n  }\r\n  return ret;\r\n}\r\n"]}]}